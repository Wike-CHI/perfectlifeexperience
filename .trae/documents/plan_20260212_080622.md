## 账号安全页 (用户信息更新) 功能完善方案

### 1. 云开发工具函数增强 (`src/utils/cloudbase.ts`)
*   **新增 `uploadFile` 函数**: 实现文件上传到云存储的功能。
    *   参数: `filePath` (本地文件路径), `cloudPath` (云端存储路径，可选)
    *   逻辑: 调用 `wx.cloud.uploadFile`，处理成功/失败回调，返回 `fileID`。

### 2. 账号安全页重构 (`src/pages/settings/account-security.vue`)
*   **逻辑层 (`script`)**:
    *   引入 `onShow` 生命周期钩子，每次进入页面时调用 `getUserInfo`（从 `api.ts` 引入）获取最新用户信息。
    *   实现 `onChooseAvatar` 方法：
        1.  接收 `e.detail.avatarUrl`。
        2.  调用 `uploadFile` 将临时头像上传到云存储。
        3.  获取返回的 `fileID`。
        4.  调用 `updateCloudUserInfo` 更新云端头像。
        5.  调用 `saveUserInfo` 更新本地缓存。
    *   实现 `onNicknameBlur` 方法：
        1.  接收 `e.detail.value`。
        2.  调用 `updateCloudUserInfo` 更新云端昵称。
        3.  调用 `saveUserInfo` 更新本地缓存。
*   **视图层 (`template`)**:
    *   **头像区域**: 将 `<view class="menu-item">` 改为 `<button class="menu-item" open-type="chooseAvatar" @chooseavatar="onChooseAvatar">`。
        *   注意：由于 `button` 默认样式问题，需要重置样式使其看起来像普通列表项。
    *   **昵称区域**: 将展示昵称的 `<text>` 替换为 `<input type="nickname" class="nickname-input" @blur="onNicknameBlur" />`。
        *   添加样式，使其与右侧箭头对齐，且无边框背景，融入列表风格。

### 3. API 工具调整 (`src/utils/api.ts`)
*   **检查 `saveUserInfo`**: 确保该函数能正确合并更新后的信息并写入 `uni.setStorageSync`。

### 4. 样式优化 (`style`)
*   为 `<button>` 重置样式（去除边框、背景色、内边距等），使其与现有的 `menu-item` 样式一致。
*   为昵称输入框添加样式，确保对齐和交互体验。

此方案将实现微信小程序新版头像昵称填写能力，允许用户真实修改并保存个人资料。